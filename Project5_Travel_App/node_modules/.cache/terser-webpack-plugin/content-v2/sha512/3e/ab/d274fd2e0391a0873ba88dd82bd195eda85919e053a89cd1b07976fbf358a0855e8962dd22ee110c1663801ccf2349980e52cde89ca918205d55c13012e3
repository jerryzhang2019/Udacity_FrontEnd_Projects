{"map":{"version":3,"sources":["main.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","today","Date","toISOString","substr","console","log","document","querySelector","timeNowInSeconds","now","resultSection","formSection","resetButton","departureInput","arriveInput","dateInput","addEventListener","event","preventDefault","reset","style","display","departure","destination","departureDate","timeInSeconds","Data","getTime","daysLeft","Math","floor","urlREGX","test","alert","checkUserInput","async","geonamesApiURL","arriveInputText","geonamesApiUsername","data","fetch","json","error","getCityData","then","cityData","cityLongitude","geonames","lng","cityLatitude","weatherbitApiRUL","getWeatherData","lat","weatherData","weatherDepartureData","filter","each","departureData","length","temp","weather","description","url","fetchData","method","credentials","headers","Content-Type","body","JSON","stringify","postData","userData","scrollIntoView","behavior","pixabayAPIURL","requiredImage","setAttribute","hits","webformateURL","innerHTML","split","reverse","updateUI"],"mappings":"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"},"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=1)}([function(e,t,r){},function(e,t,r){\"use strict\";r.r(t);let n=(new Date).toISOString().substr(0,10);console.log(n),document.querySelector(\"#form-date\").value=n;const a=Date.now()/1e3,o=document.querySelector(\"#result\"),c=document.querySelector(\"#trip-form\"),u=document.querySelector(\"#delete\"),i=document.querySelector(\"#form-departure\"),s=document.querySelector(\"#form-arrival\"),l=document.querySelector(\"#form-date\");u.addEventListener(\"click\",e=>{e.preventDefault(),c.reset(),document.querySelector(\"#form-date\").value=n,o.style.display=\"none\"});c.addEventListener(\"submit\",e=>{e.preventDefault();const t=i.value,r=s.value,n=l.value,c=new Data(n).getTime()/1e3,u=Math.floor((c-a)/86400)+1;!function(e,t){let r=/^[a-zA-Z\\s]{0,255}$/;r.test(e)&&r.test(t)||alert(\"Please enter a valid search term and try again!\")}(t,r),(async(e,t,r)=>{const n=await fetch(e+t+\"&maxRows=5&username=\"+r);try{return await n.json()}catch(e){console.log(\"error\",e)}})(\"http://api.geonames.org/searchJSON?q=\",r,\"JerryZhang2020\").then(e=>{const t=e.geonames[0].lng;return(async(e,t)=>{const r=await fetch(weatherbitApiRUL+\"lat=\"+e+\"&lob=\"+t+\"&key8755b770092b4abe92e2f7bf9a4b6ec6\");try{return await r.json()}catch(e){console.log(\"error\",e)}})(e.geonames[0].lat,t)}).then(e=>{let t=e.data.filter(e=>departureData===e.valid_date);0===t.length&&(t=[{temp:\"unknown\",weather:{description:\"unknown\"}}]);return(async(e=\"\",t={})=>{const r=await fetch(e,{method:\"POST\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({destination:t.destination,departureDate:t.departureDate,daysLeft:t.daysLeft,weather:`${t.weatherDepartureData[0].temp} degrees Celsius, ${t.weatherDepartureData[0].weather.description}`})});try{return await r.json()}catch(e){console.log(\"error\",e)}})(\"http://localhost:3000/add\",{destination:r,departureDate:n,daysLeft:u,weatherDepartureData:t})}).then(e=>{(async e=>{o.style.display=\"block\",o.scrollIntoView({behavior:\"smooth\"}),console.log(\"userData:\",e);const t=await fetch(pixabayAPIURL+\"17380540-339e203bdfdb80a5fba13fad4&q=\"+e.destination+NaN);try{const r=await t.json();document.querySelector(\"Pixabay-image\").setAttribute(\"src\",r.hits[0].webformateURL),document.querySelector(\"#destination\").innerHTML=e.destination,document.querySelector(\"#date\").innerHTML=e.departureDate.split(\"-\").reverse().json(\"/\"),document.querySelector(\"#days\").innerHTML=e.daysLeft,document.querySelector(\"#temp\").innerHTML=e.weather}catch(e){console.log(\"error\",e)}})(e)})});r(0)}]);","extractedComments":[]}
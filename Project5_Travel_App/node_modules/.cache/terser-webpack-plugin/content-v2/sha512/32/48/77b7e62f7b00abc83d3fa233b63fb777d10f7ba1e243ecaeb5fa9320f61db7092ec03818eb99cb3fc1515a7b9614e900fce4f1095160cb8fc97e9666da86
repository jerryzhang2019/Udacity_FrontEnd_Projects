{"map":{"version":3,"sources":["main.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Error","__webpack_exports__","today","Date","toISOString","substr","console","log","document","querySelector","timeNowInSeconds","now","resultSection","formSection","resetButton","departureInput","arriveInput","dateInput","addEventListener","event","preventDefault","reset","style","display","departure","destination","departureDate","timeInSeconds","Data","getTime","daysLeft","Math","floor","urlREGX","test","alert","checkUserInput","async","geonamesApiURL","arriveInputText","geonamesApiUsername","data","fetch","json","error","getCityData","then","cityData","cityLongitude","geonames","lng","cityLatitude","weatherbitApiRUL","getWeatherData","lat","weatherData","weatherDepartureData","filter","each","departureData","length","temp","weather","description","url","fetchData","method","credentials","headers","Content-Type","body","JSON","stringify","postData","userData","scrollIntoView","behavior","pixabayAPIURL","requiredImage","setAttribute","hits","webformateURL","innerHTML","split","reverse","updateUI"],"mappings":"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"},"code":"!function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p=\"\",t(t.s=1)}([function(e,r){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleNotFoundError: Module not found: Error: Can't resolve 'file-loader' in 'C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App'\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\webpack\\\\lib\\\\Compilation.js:925:10\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:401:22\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:130:21\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:337:24\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\neo-async\\\\async.js:2830:7\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\neo-async\\\\async.js:6877:13\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\neo-async\\\\async.js:2830:7\\n    at done (C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\neo-async\\\\async.js:2925:13)\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\webpack\\\\lib\\\\NormalModuleFactory.js:449:23\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:213:14\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\\n    at eval (eval at create (C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:33:10), <anonymous>:15:1)\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\UnsafeCachePlugin.js:44:7\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\\n    at eval (eval at create (C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:33:10), <anonymous>:15:1)\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\\n    at eval (eval at create (C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:33:10), <anonymous>:27:1)\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\DescriptionFilePlugin.js:67:43\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\\n    at eval (eval at create (C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:33:10), <anonymous>:27:1)\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\ModuleKindPlugin.js:30:40\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\\n    at eval (eval at create (C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:33:10), <anonymous>:15:1)\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\\n    at eval (eval at create (C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:33:10), <anonymous>:15:1)\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\forEachBail.js:30:14\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\\n    at eval (eval at create (C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\tapable\\\\lib\\\\HookCodeFactory.js:33:10), <anonymous>:15:1)\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\UnsafeCachePlugin.js:44:7\\n    at C:\\\\JerryZhang\\\\Udacity_FrontEnd_Projects\\\\Project5_Travel_App\\\\node_modules\\\\enhanced-resolve\\\\lib\\\\Resolver.js:285:5\")},function(e,r,t){\"use strict\";t.r(r);let o=(new Date).toISOString().substr(0,10);console.log(o),document.querySelector(\"#form-date\").value=o;const n=Date.now()/1e3,a=document.querySelector(\"#result\"),l=document.querySelector(\"#trip-form\"),c=document.querySelector(\"#delete\"),d=document.querySelector(\"#form-departure\"),s=document.querySelector(\"#form-arrival\"),i=document.querySelector(\"#form-date\");c.addEventListener(\"click\",e=>{e.preventDefault(),l.reset(),document.querySelector(\"#form-date\").value=o,a.style.display=\"none\"});l.addEventListener(\"submit\",e=>{e.preventDefault();const r=d.value,t=s.value,o=i.value,l=new Data(o).getTime()/1e3,c=Math.floor((l-n)/86400)+1;!function(e,r){let t=/^[a-zA-Z\\s]{0,255}$/;t.test(e)&&t.test(r)||alert(\"Please enter a valid search term and try again!\")}(r,t),(async(e,r,t)=>{const o=await fetch(e+r+\"&maxRows=5&username=\"+t);try{return await o.json()}catch(e){console.log(\"error\",e)}})(\"http://api.geonames.org/searchJSON?q=\",t,\"JerryZhang2020\").then(e=>{const r=e.geonames[0].lng;return(async(e,r)=>{const t=await fetch(weatherbitApiRUL+\"lat=\"+e+\"&lob=\"+r+\"&key8755b770092b4abe92e2f7bf9a4b6ec6\");try{return await t.json()}catch(e){console.log(\"error\",e)}})(e.geonames[0].lat,r)}).then(e=>{let r=e.data.filter(e=>departureData===e.valid_date);0===r.length&&(r=[{temp:\"unknown\",weather:{description:\"unknown\"}}]);return(async(e=\"\",r={})=>{const t=await fetch(e,{method:\"POST\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({destination:r.destination,departureDate:r.departureDate,daysLeft:r.daysLeft,weather:`${r.weatherDepartureData[0].temp} degrees Celsius, ${r.weatherDepartureData[0].weather.description}`})});try{return await t.json()}catch(e){console.log(\"error\",e)}})(\"http://localhost:3000/add\",{destination:t,departureDate:o,daysLeft:c,weatherDepartureData:r})}).then(e=>{(async e=>{a.style.display=\"block\",a.scrollIntoView({behavior:\"smooth\"}),console.log(\"userData:\",e);const r=await fetch(pixabayAPIURL+\"17380540-339e203bdfdb80a5fba13fad4&q=\"+e.destination+NaN);try{const t=await r.json();document.querySelector(\"Pixabay-image\").setAttribute(\"src\",t.hits[0].webformateURL),document.querySelector(\"#destination\").innerHTML=e.destination,document.querySelector(\"#date\").innerHTML=e.departureDate.split(\"-\").reverse().json(\"/\"),document.querySelector(\"#days\").innerHTML=e.daysLeft,document.querySelector(\"#temp\").innerHTML=e.weather}catch(e){console.log(\"error\",e)}})(e)})});t(0)}]);","extractedComments":[]}